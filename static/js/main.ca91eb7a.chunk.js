(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(28),s=n.n(a),i=n(2),l=n(21),u="token/SET_TOKEN",o=function(e){return{type:u,access_token:e}},j={access_token:""};var d=n(5),b="user/PENDING_USER_FETCH",O="user/SUCCEED_USER_FETCH",f="user/FAIL_USER_FETCH",m={data:{},pending:!1,error:null};var p="play/SET_PLAYLIST",v="play/REMOVE_PLAYLIST",h="play/SET_CURRENT_SONG",x="play/REMOVE_CURRENT_SONG",g="play/PLAY_SONG",A="play/PAUSE_SONG",N=function(e){return{type:p,playlist:e}},y=function(e){return{type:h,current_song:e}},k=function(){return{type:g}},w=function(){return{type:A}},S={playlist:{},current_song:{},play:!1};var B=Object(l.c)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{access_token:t.access_token};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{pending:!0});case O:return Object(d.a)(Object(d.a)({},e),{},{data:t.data,pending:!1});case f:return Object(d.a)(Object(d.a)({},e),{},{pending:!1,error:t.error});default:return e}},play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{playlist:t.playlist});case v:return Object(d.a)(Object(d.a)({},e),{},{playlist:{}});case h:return Object(d.a)(Object(d.a)({},e),{},{current_song:t.current_song});case x:return Object(d.a)(Object(d.a)({},e),{},{current_song:{}});case g:return Object(d.a)(Object(d.a)({},e),{},{play:!0});case A:return Object(d.a)(Object(d.a)({},e),{},{play:!1});default:return e}}}),I=n(62),Y=function(){return Object(l.d)(B,Object(l.a)(I.a))}(),E=n(6),T=n(15),C=n(8),M=n.n(C),D=n(16),R=function(){var e=Object(i.c)(),t="7da971157300402095a7852508e36dce",n=function(){var e=Object(D.a)(M.a.mark((function e(n){var c,r,a,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://accounts.spotify.com/api/token?code=".concat(n,"&grant_type=authorization_code&redirect_uri=http://jiasong214.github.io/spotify-clone/"),e.prev=1,e.next=4,fetch(c,{method:"POST",headers:{Authorization:"Basic "+btoa("".concat(t,":").concat("9c0e75f27b084a718f560a6e7ec7ef19")),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:return r=e.sent,e.next=7,r.access_token;case 7:return a=e.sent,e.next=10,r.refresh_token;case 10:return s=e.sent,e.abrupt("return",{access_token:a,refresh_token:s});case 14:e.prev=14,e.t0=e.catch(1),console.log("access token err");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),r=function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,c=window.location.href.split("?")[1];e=n.exec(c);)t[e[1]]=decodeURIComponent(e[2]);return t};return{checkAuth:Object(c.useCallback)(Object(D.a)(M.a.mark((function c(){var a,s,i,l;return M.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a=r().code,c.next=3,n(a);case 3:s=c.sent,(i=s.access_token)?(e(o(i)),window.history.pushState({},null,"/")):(l=["playlist-read-private","playlist-read-collaborative","playlist-modify-public","playlist-modify-private","user-read-recently-played","ugc-image-upload","user-follow-modify","user-follow-read","user-library-read","user-library-modify","user-read-private","user-read-email","user-top-read","user-read-playback-state"],window.location.href="https://accounts.spotify.com/authorize?client_id=".concat(t,"&response_type=code&scope=").concat(l.join("%20"),"&redirect_uri=").concat("http://jiasong214.github.io/spotify-clone/callback/"));case 6:case"end":return c.stop()}}),c)}))),[e])}},U="https://api.spotify.com/v1",P=function(){var e=Object(D.a)(M.a.mark((function e(t,n){var c,r=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.length>2&&void 0!==r[2]?r[2]:{},e.abrupt("return",fetch("".concat(U).concat(t),Object(d.a)(Object(d.a)({},c),{},{headers:Object(d.a)(Object(d.a)({},c.headers),{},{Authorization:"Bearer "+n})})).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e){return function(t){return t({type:b}),P("/me",e).then((function(e){return t({type:O,data:e})})).catch((function(e){return t(function(e){return{type:f,error:e}}(e))}))}},L=function(){var e=Object(D.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("/me/albums",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e,t){return P("/albums/".concat(t),e)},J=function(){var e=Object(D.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("/browse/new-releases",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e,t){return P("/playlists/".concat(t),e)},V=(n(73),n(0)),X=function(){var e=Object(i.d)((function(e){return e.token.access_token}),i.b),t=Object(c.useState)(),n=Object(E.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){var t;(t=e,P("/me/playlists",t)).then((function(e){return a(e.items)}))}),[e]),Object(V.jsxs)("nav",{children:[Object(V.jsx)("div",{children:Object(V.jsx)(T.b,{to:"/",children:"Browse"})}),Object(V.jsx)("h1",{children:"YOUR LIBRARY"}),Object(V.jsxs)("div",{children:[Object(V.jsx)(T.b,{to:"/recently-played",children:"Recently Played"}),Object(V.jsx)(T.b,{to:"/liked-songs",children:"Liked Songs"}),Object(V.jsx)(T.b,{to:"/albums",children:"Albums"}),Object(V.jsx)(T.b,{to:"/artists",children:"Artists"})]}),Object(V.jsx)("h1",{children:"PLAYLISTS"}),Object(V.jsx)("div",{children:(null===r||void 0===r?void 0:r.map((function(e,t){return Object(V.jsx)(T.b,{to:"/playlist/".concat(e.id),children:e.name},t)})))||null})]})},Z=n(30),z=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.play.play}),Z.shallowEqual),n=Object(i.d)((function(e){return e.play.playlist}),Z.shallowEqual),c=Object(i.d)((function(e){return e.play.current_song}),Z.shallowEqual),r=function(){var e,t=n.tracks||n;if(1!==t.length)return t.forEach((function(t,n){var r;((null===(r=t.track)||void 0===r?void 0:r.id)||t.id)===c.id&&(e=n)})),{current_playlist:t,currentSongIndex:e}};return{play:function(){c.name&&e(t?w():k())},putNextSong:function(){var n;if(c.name&&void 0!==r()){var a=r(),s=a.current_playlist[a.currentSongIndex+1],i=null!==(n=s.track)&&void 0!==n?n:s;if(null===i.preview_url)return e(w());e(y(i)),e(t?k():w())}},putReverseSong:function(){var n;if(c.name&&void 0!==r()){var a=r(),s=a.current_playlist,i=a.currentSongIndex;if(!(i<=1)){var l=s[i-1];if(null===(null!==(n=l.track)&&void 0!==n?n:l).preview_url)return e(w());e(y(l.track||l)),e(t?k():w())}}}}},_=n.p+"static/media/play-btn.16d1fa01.png",Q=n.p+"static/media/pause-btn.879dbdab.png",H=n.p+"static/media/next-song-btn.269fdd55.png",q=n.p+"static/media/last-song-btn.a493e03f.png",K=n.p+"static/media/volume.fa80322f.png",$=(n(134),function(){var e,t=Object(i.c)(),n=Object(c.useRef)(null),r=Object(i.d)((function(e){return e.play.play}),i.b),a=Object(i.d)((function(e){return e.play.current_song}),i.b),s=z(),l=s.play,u=s.putNextSong,o=s.putReverseSong,j=Object(c.useState)(0),d=Object(E.a)(j,2),b=d[0],O=d[1];Object(c.useEffect)((function(){r?n.current.play():n.current.pause()}),[r,a]),Object(c.useEffect)((function(){var e;return r&&(b>=30?(O(0),t(w())):e=setInterval((function(){O(b+1)}),1e3)),function(){return clearInterval(e)}}),[r,b,t]),Object(c.useEffect)((function(){O(0)}),[a]);return Object(V.jsxs)("aside",{className:"playBar",children:[Object(V.jsxs)("div",{className:"currentPlaySong",children:[(null===a||void 0===a?void 0:a.album)&&Object(V.jsx)("img",{src:a.album.images[0].url,alt:"current playing album cover"}),Object(V.jsxs)("div",{children:[Object(V.jsx)("p",{className:"currentPlaySong__title",children:null!==(e=a.name)&&void 0!==e?e:""}),Object(V.jsx)("p",{className:"currentPlaySong__artist",children:a.artists?a.artists[0].name:""})]})]}),Object(V.jsx)("audio",{ref:n,src:a.preview_url}),Object(V.jsxs)("div",{className:"songControl",children:[Object(V.jsx)("div",{className:"reverseSong",onClick:function(){return o()},children:Object(V.jsx)("img",{src:q,alt:"reverse button"})}),Object(V.jsx)("div",{className:"playSong",onClick:function(){return l()},children:Object(V.jsx)("img",{src:r?Q:_,alt:"play button"})}),Object(V.jsx)("div",{className:"nextSong",onClick:function(){return u()},children:Object(V.jsx)("img",{src:H,alt:"next button"})})]}),Object(V.jsxs)("div",{className:"songProgress",children:[Object(V.jsxs)("div",{className:"currentProgress",children:["0:",b<10?"0"+b:b]}),Object(V.jsx)("div",{className:"progressBar",children:Object(V.jsx)("div",{className:"progressBar__progress",style:{width:b/30*100+"%"}})}),Object(V.jsxs)("div",{className:"expiredProgress",children:["0:",-(b-30)<10?"0"+-(b-30):-(b-30)]})]}),Object(V.jsxs)("div",{className:"volumeControl",children:[Object(V.jsx)("img",{src:K,alt:"volume control"}),Object(V.jsx)("input",{type:"range",max:"1",min:"0",step:"0.01",onChange:function(e){n.current.volume=e.target.value}})]})]})}),ee=n(3),te=(n(135),function(){var e=Object(i.c)(),t=Object(ee.f)(),n=Object(i.d)((function(e){return e.token.access_token}),i.b),r=Object(i.d)((function(e){return e.user.data}),i.b);Object(c.useEffect)((function(){e(G(n))}),[n,e]);return(null===r||void 0===r?void 0:r.display_name)?Object(V.jsxs)("header",{children:[Object(V.jsx)("form",{onSubmit:function(e){e.preventDefault();var n=e.target[0].value;t.push("/search/".concat(n)),e.target[0].value=""},children:Object(V.jsx)("input",{placeholder:"Search"})}),Object(V.jsxs)("div",{className:"user",children:[Object(V.jsx)("img",{className:"userImg",src:r.images[0].url,alt:"user profile"}),Object(V.jsx)("div",{className:"userName",children:r.display_name})]})]}):""}),ne=(n(136),function(e){var t=e.isActive,n=e.onModal;return Object(V.jsxs)("aside",{className:t?"modal active":"modal",children:[Object(V.jsx)("p",{className:"modal__text",children:"Song might be not be able to play due to API provide."}),Object(V.jsxs)("div",{className:"buttonBox",children:[Object(V.jsx)("div",{className:"modal__closeBtn",onClick:n,children:"GOT IT"}),Object(V.jsx)("div",{className:"modal__infoBtn",children:"MORE INFO"})]})]})}),ce=(n(137),function(e){var t=e.data;return t&&0!==t.length?Object(V.jsx)("ul",{className:"albumList",children:t.map((function(e){var t,n,c,r,a,s,i;return Object(V.jsx)("li",{className:"albumList__item",children:Object(V.jsxs)(T.b,{to:e.icons?"/":"/album-tracks/".concat((null===(n=e.album)||void 0===n?void 0:n.id)||e.id),children:[Object(V.jsx)("img",{className:"albumList__img",src:(null===(c=e.album)||void 0===c||null===(r=c.images[0])||void 0===r?void 0:r.url)||(e.images?e.images[0].url:null===(a=e.icons[0])||void 0===a?void 0:a.url)||"",alt:"album cover"}),Object(V.jsx)("h2",{className:"albumList__title",children:(null===(s=e.album)||void 0===s?void 0:s.name)||e.name}),Object(V.jsx)("p",{className:"albumList__artist",children:(null===(i=e.album)||void 0===i?void 0:i.artists[0].name)||(e.artists?e.artists[0].name:"")})]})},(null===(t=e.album)||void 0===t?void 0:t.name)||e.name)}))}):""}),re=(n(138),function(e){var t=e.accessToken,n=Object(c.useState)(),r=Object(E.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){J(t).then((function(e){return s(e.albums.items)})).catch((function(e){return console.log(e)}))}),[t]);var i=function(e,n){var c;switch(e.target.parentElement.querySelectorAll(".active").forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active"),n){case 1:default:J(t).then((function(e){return s(e.albums.items)}));break;case 2:(c=t,P("/browse/featured-playlists",c)).then((function(e){return s(e.playlists.items)}));break;case 3:(function(e){return P("/browse/categories",e)})(t).then((function(e){return s(e.categories.items)}))}};return a?Object(V.jsxs)("div",{className:"view browse",children:[Object(V.jsxs)("div",{className:"browse__titleBox",children:[Object(V.jsx)("h1",{className:"view__title",children:"Browse"}),Object(V.jsxs)("div",{className:"tapButtons",children:[Object(V.jsx)("div",{className:"active",onClick:function(e){return i(e,1)},children:"New Releases"}),Object(V.jsx)("div",{onClick:function(e){return i(e,2)},children:"Featured"}),Object(V.jsx)("div",{onClick:function(e){return i(e,3)},children:"Genres & Moods"})]})]}),Object(V.jsx)(ce,{data:a})]}):null}),ae=(n(139),function(e){var t=e.playlist,n=Object(i.c)(),c=Object(i.d)((function(e){return e.play.play}),i.b);return Object(V.jsx)("div",{className:"playBtn",onClick:function(){if(c)n(w());else{var e=t[0].track||t[0];if(null===e.preview_url)return;n(N(t)),n(y(e)),n(k())}},children:c?"PAUSE":"PLAY"})}),se=n.p+"static/media/like-empty.e7ec3ad0.png",ie=n.p+"static/media/like-full.1f20b9a6.png",le=(n(140),function(e){var t=e.data,n=Object(i.c)(),c=Object(i.d)((function(e){return e.token.access_token}),i.b),r=Object(i.d)((function(e){return e.play.play}),i.b),a=Object(i.d)((function(e){return e.play.current_song}),i.b),s=function(e,t){!function(e,t){P("/me/tracks?ids=".concat(t),e,{method:"PUT"})}(c,t.id||t.track.id),e.target.src=ie};return t&&0!==t.length?Object(V.jsxs)("table",{className:"songTable",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{}),Object(V.jsx)("th",{}),Object(V.jsx)("th",{children:"Title"}),Object(V.jsx)("th",{children:"Artist"}),Object(V.jsx)("th",{children:"Album"}),Object(V.jsx)("th",{children:"Time"})]})}),Object(V.jsx)("tbody",{children:t.map((function(e){var c,i,l,u,o,j,d,b,O;return Object(V.jsxs)("tr",{className:r&&(null===a||void 0===a?void 0:a.id)===((null===(i=e.track)||void 0===i?void 0:i.id)||e.id)?"songTable__item active":"songTable__item",children:[Object(V.jsx)("td",{className:"songTable__playBtn",onClick:function(){return function(e){if(r)return n(w());var c=e.track||e;null!==c.preview_url&&(n(y(c)),n(N(t)),n(k()))}(e)},children:Object(V.jsx)("img",{src:r&&(null===a||void 0===a?void 0:a.id)===((null===(l=e.track)||void 0===l?void 0:l.id)||e.id)?Q:_,alt:"song play button"})}),Object(V.jsx)("td",{className:"songTable__likeBtn",children:Object(V.jsx)("img",{src:se,alt:"song like button",onClick:function(t){return s(t,e)}})}),Object(V.jsx)("td",{className:"songTable__songName",children:(null===(u=e.track)||void 0===u?void 0:u.name)||e.name}),Object(V.jsx)("td",{children:(null===(o=e.track)||void 0===o?void 0:o.artists[0].name)||e.artists[0].name}),Object(V.jsx)("td",{children:(null===(j=e.track)||void 0===j||null===(d=j.album)||void 0===d?void 0:d.name)||e.album_name}),Object(V.jsx)("td",{children:(O=(null===(b=e.track)||void 0===b?void 0:b.duration_ms)||e.duration_ms,new Date(O).toISOString().slice(14,-1).slice(0,5))})]},(null===(c=e.track)||void 0===c?void 0:c.id)||e.id)}))})]}):""}),ue=function(e){var t=e.accessToken,n=Object(c.useState)(),r=Object(E.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var e;(e=t,P("/me/tracks",e)).then((function(e){return s(e.items)}))}),[t]),Object(V.jsxs)("div",{className:"view",children:[Object(V.jsxs)("div",{className:"view__titleBox",children:[Object(V.jsx)("h1",{className:"view__title",children:"Liked Songs"}),Object(V.jsx)(ae,{playlist:a})]}),Object(V.jsx)(le,{data:a,type:"likedSongs"})]})},oe=function(e){var t=e.accessToken,n=Object(c.useState)(),r=Object(E.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var e;(e=t,P("/me/player/recently-played",e).then((function(e){return e.items.filter((function(e,t,n){return t===n.findIndex((function(t){return t.track.id===e.track.id}))}))}))).then((function(e){return s(e)}))}),[t]),Object(V.jsxs)("div",{className:"view",children:[Object(V.jsxs)("div",{className:"view__titleBox",children:[Object(V.jsx)("h1",{className:"view__title",children:"Recently Played"}),Object(V.jsx)(ae,{playlist:a})]}),Object(V.jsx)(le,{data:a})]})},je=function(e){var t=e.accessToken,n=Object(c.useState)(),r=Object(E.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){L(t).then((function(e){return e.items&&s(e.items)})).catch((function(e){return console.log(e)}))}),[t]),Object(V.jsxs)("div",{className:"view albums",children:[Object(V.jsx)("h1",{className:"view__title",children:"Albums"}),Object(V.jsx)(ce,{data:a})]})},de=(n(141),function(){return Object(V.jsxs)("div",{className:"view artists",children:[Object(V.jsx)("h1",{className:"view__title",children:"Artists"}),Object(V.jsx)("img",{className:"artists__img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABqCAYAAABZP7TQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBFNDdDNEVGODlFNjExRUJBNDY1RTI1QTY0Qzk4N0Q1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBFNDdDNEYwODlFNjExRUJBNDY1RTI1QTY0Qzk4N0Q1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEU0N0M0RUQ4OUU2MTFFQkE0NjVFMjVBNjRDOTg3RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEU0N0M0RUU4OUU2MTFFQkE0NjVFMjVBNjRDOTg3RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4O0N7SAAATQklEQVR42uxdC1hO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",alt:"icon"}),Object(V.jsx)("p",{children:"Your favorite artists will appear here. Go to your Browse page to find amazing playlists for every mood and moment."}),Object(V.jsx)("div",{className:"artists__btn",children:"GO TO BROWSE"})]})}),be=(n(142),function(e){var t,n,c,r,a=e.data,s=Object(i.d)((function(e){return e.token.access_token}),i.b),l=function(e,t){var n,c;n=s,c=t.id,P("/me/albums?ids=".concat(c),n,{method:"PUT"}),e.target.src=ie};return Object(V.jsxs)("div",{className:"albumInfo",children:[Object(V.jsx)("img",{src:a.images[0]?null===(t=a.images[0])||void 0===t?void 0:t.url:a.icons[0].url||"",alt:"album cover"}),Object(V.jsxs)("div",{className:"albumInfo__innerbox",children:[Object(V.jsx)("h1",{children:"ALBUM"}),Object(V.jsx)("h2",{children:a.name}),Object(V.jsxs)("p",{children:["By \xa0",Object(V.jsx)("span",{children:(null===(n=a.owner)||void 0===n?void 0:n.display_name)||(null===(c=a.artists[0])||void 0===c?void 0:c.name)||""}),", ",a.total_tracks||(null===(r=a.tracks)||void 0===r?void 0:r.total)||""," song"]}),Object(V.jsxs)("div",{className:"albumInfo__btnBox",children:[Object(V.jsx)(ae,{playlist:a.tracks.items}),Object(V.jsx)("div",{className:"likeBtn",children:Object(V.jsx)("img",{src:se,alt:"like button",onClick:function(e){return l(e,a)}})})]})]})]})}),Oe=function(e){var t=e.accessToken,n=Object(ee.g)().id,r=Object(c.useState)(),a=Object(E.a)(r,2),s=a[0],i=a[1],l=Object(c.useState)(),u=Object(E.a)(l,2),o=u[0],j=u[1];return Object(c.useEffect)((function(){W(t,n).then((function(e){j(e),i(e.tracks.items)}))}),[t,n]),s?Object(V.jsxs)("div",{className:"view playlist",children:[Object(V.jsx)(be,{data:o}),Object(V.jsx)(le,{data:s})]}):null},fe=function(e){var t=e.accessToken,n=Object(c.useState)(),r=Object(E.a)(n,2),a=r[0],s=r[1],i=Object(ee.g)().term;return Object(c.useEffect)((function(){var e,n;(e=t,n=i,P("/search?q=".concat(n,"&type=track&limit=30&offset=5"),e).then((function(e){return e.tracks.items.filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))}))}))).then((function(e){return s(e)}))}),[t,i]),a&&0!==a.length?Object(V.jsxs)("div",{className:"view",children:[Object(V.jsx)("div",{className:"view__titleBox",children:Object(V.jsxs)("h1",{className:"view__title",children:["Search results of ",'"'.concat(i,"'\"")]})}),Object(V.jsx)(le,{data:a})]}):null},me=function(e){var t=e.accessToken,n=Object(ee.g)().id,r=Object(c.useState)(),a=Object(E.a)(r,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(D.a)(M.a.mark((function e(){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n).then((function(e){return e}));case 2:(c=e.sent).id?i(c):W(t,n).then((function(e){return i(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,n]),s&&0!==s.length?Object(V.jsxs)("div",{className:"albumTrack",children:[Object(V.jsx)(be,{data:s}),Object(V.jsx)(le,{data:s.tracks.items})]}):""},pe=function(){var e=Object(i.d)((function(e){return e.token.access_token}),i.b);return Object(V.jsxs)(ee.c,{children:[Object(V.jsx)(ee.a,{exact:!0,path:"/",render:function(){return Object(V.jsx)(re,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/liked-songs",render:function(){return Object(V.jsx)(ue,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/recently-played",render:function(){return Object(V.jsx)(oe,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/albums",render:function(){return Object(V.jsx)(je,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/album-tracks/:id",render:function(){return Object(V.jsx)(me,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/artists",render:function(){return Object(V.jsx)(de,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/playlist/:id",render:function(){return Object(V.jsx)(Oe,{accessToken:e})}}),Object(V.jsx)(ee.a,{exact:!0,path:"/search/:term",render:function(){return Object(V.jsx)(fe,{accessToken:e})}})]})};var ve=function(){var e=Object(i.d)((function(e){return e.token.access_token}),i.b),t=Object(c.useState)(!1),n=Object(E.a)(t,2),r=n[0],a=n[1],s=R().checkAuth;Object(c.useEffect)((function(){""===e&&s()}),[e,s]);var l=function(){a(!r)};return Object(c.useEffect)((function(){setTimeout((function(){return l()}),2e3)}),[]),e&&Object(V.jsxs)(T.a,{children:[Object(V.jsx)(X,{}),Object(V.jsx)(te,{}),Object(V.jsx)($,{}),Object(V.jsx)("main",{children:Object(V.jsx)(pe,{})}),Object(V.jsx)(ne,{isActive:r,onModal:l})]})};s.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(i.a,{store:Y,children:Object(V.jsx)(ve,{})})}),document.getElementById("root"))},73:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.ca91eb7a.chunk.js.map