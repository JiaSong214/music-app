{"version":3,"sources":["store/modules/token.js","store/modules/user.js","store/modules/play.js","store/modules/index.js","store/index.js","store/configure.js","hooks/useAuth.jsx","http/http.js","api.js","components/navgation.jsx","hooks/useAudio.jsx","assets/play-btn.png","assets/pause-btn.png","assets/next-song-btn.png","assets/last-song-btn.png","assets/volume.png","components/playBar.jsx","components/header.jsx","components/modal.jsx","components/albumList.jsx","pages/browse.jsx","components/playButton.jsx","assets/like-empty.png","assets/like-full.png","components/songList.jsx","pages/likedSongs.jsx","pages/recentlyPlayed.jsx","pages/albums.jsx","pages/artists.jsx","assets/artists_icon.png","components/albumInfo.jsx","pages/playlist.jsx","pages/search.jsx","pages/albumTracks.jsx","pages/Router.jsx","App.js","index.js"],"names":["SET_ACCESS_TOKEN","setAccessToken","access_token","type","initialState","PENDING_USER_FETCH","SUCCEED_USER_FETCH","FAIL_USER_FETCH","data","pending","error","SET_PLAYLIST","REMOVE_PLAYLIST","SET_CURRENT_SONG","REMOVE_CURRENT_SONG","PLAY_SONG","PAUSE_SONG","setPlaylist","songs","playlist","setCurrentSong","song","current_song","playSong","pauseSong","play","combineReducers","token","state","action","user","configure","createStore","modules","applyMiddleware","thunk","useAuth","dispatch","useDispatch","redirect_uri","client_id","fetchAccessToken","code","a","requestApi","fetch","method","headers","btoa","then","res","json","response","refresh_token","console","log","getParamsValue","e","hashParams","r","q","window","location","href","split","exec","decodeURIComponent","checkAuth","useCallback","history","pushState","scopes","join","BASE_URL","http","url","options","fetchUserData","catch","err","failUserFetch","fetchAlbums","fetchAlbumTracks","id","fetchNewReleases","fetchPlaylist","playlist_id","Navigation","accessToken","useSelector","shallowEqual","useState","playlists","setPlaylists","useEffect","items","to","map","item","index","name","useAudio","audioState","currentSong","findSongIndex","currentSongIndex","current_playlist","tracks","length","forEach","track","putNextSong","undefined","nextSong","nextSongData","preview_url","putReverseSong","reverseSong","PlayBar","audioRef","useRef","playingTime","setPlayingTime","current","pause","intervalId","setInterval","clearInterval","className","album","src","images","alt","artists","ref","onClick","lastSongBtn","pauseBtn","playBtn","nextSongBtn","style","width","volumeIcon","max","min","step","onChange","volume","target","value","Header","useHistory","display_name","onSubmit","preventDefault","searchTerm","push","placeholder","Modal","isActive","onModal","AlbumList","icons","Browse","albums","setAlbums","handleTapClick","parentElement","querySelectorAll","classList","remove","add","fetchCategories","categories","PlayButton","songData","SongList","clickLike","event","song_id","putLikedSong","likeFullIcon","ms","clickPlay","likeEmptyIcon","album_name","duration_ms","Date","toISOString","slice","LikedSongs","setSongs","RecentlyPlayed","filter","self","findIndex","t","Albums","Artists","AlbumInfo","clickLikeBtn","album_id","owner","total_tracks","total","Playlist","useParams","Search","result","setResult","term","search_term","AlbumTracks","setAlbum","albumData","getData","Router","exact","path","render","App","modal","setModal","handleModal","setTimeout","ReactDOM","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.364bd583.chunk.js","sourcesContent":["const SET_ACCESS_TOKEN = 'token/SET_TOKEN';\n\nexport const setAccessToken = (access_token) => ({\n  type: SET_ACCESS_TOKEN,\n  access_token: access_token\n});\n\n\nconst initialState = {\n  access_token: '',\n}\n\nexport default function reducer (state = initialState, action) {\n  switch(action.type) {\n    case SET_ACCESS_TOKEN:\n      return {\n        access_token: action.access_token\n      };\n    default:\n      return state;\n  }\n}","//define action type\nconst PENDING_USER_FETCH = 'user/PENDING_USER_FETCH';\nconst SUCCEED_USER_FETCH = 'user/SUCCEED_USER_FETCH';\nconst FAIL_USER_FETCH = 'user/FAIL_USER_FETCH';\n\nexport const pendingUserFetch = () => ({\n  type: PENDING_USER_FETCH\n});\n\nexport const succeedUserFetch = (user) => ({\n  type: SUCCEED_USER_FETCH,\n  data: user\n});\n\nexport const failUserFetch = (err) => ({\n  type: FAIL_USER_FETCH,\n  error: err\n});\n\n//initial state of module\nconst initialState = {\n  data: {},\n  pending: false, \n  error: null\n}\n\n//make a reducer and export\nexport default function reducer (state = initialState, action) {\n  // console.log(action)\n  switch(action.type) {\n      case PENDING_USER_FETCH:\n        return {\n          ...state,\n          pending: true\n        };\n      case SUCCEED_USER_FETCH:\n        return {\n          ...state,\n          data: action.data,\n          pending: false\n        };\n      case FAIL_USER_FETCH:\n        return {\n          ...state,\n          pending: false,\n          error: action.error\n        };\n    default:\n      return state;\n  }\n}","const SET_PLAYLIST = 'play/SET_PLAYLIST';\nconst REMOVE_PLAYLIST = 'play/REMOVE_PLAYLIST';\nconst SET_CURRENT_SONG = 'play/SET_CURRENT_SONG';\nconst REMOVE_CURRENT_SONG = 'play/REMOVE_CURRENT_SONG';\nconst PLAY_SONG = 'play/PLAY_SONG';\nconst PAUSE_SONG = 'play/PAUSE_SONG';\n\nexport const setPlaylist = (songs) => ({\n  type: SET_PLAYLIST,\n  playlist : songs\n});\n\nexport const removePlaylist = () => ({\n  type: REMOVE_PLAYLIST,\n});\n\nexport const setCurrentSong = (song) => ({\n  type: SET_CURRENT_SONG,\n  current_song: song\n});\n\nexport const removeCurrentSong = () => ({\n  type: REMOVE_CURRENT_SONG,\n});\n\nexport const playSong = () => ({\n  type: PLAY_SONG,\n});\n\nexport const pauseSong = () => ({\n  type: PAUSE_SONG,\n})\n\nconst initialState = {\n  playlist: {},\n  current_song: {},\n  play: false,\n}\n\nexport default function reducer (state = initialState, action) {\n  switch(action.type) {\n    case SET_PLAYLIST: \n      return {\n        ...state,\n        playlist: action.playlist\n      }\n    case REMOVE_PLAYLIST: \n      return {\n        ...state,\n        playlist: {}\n      }\n    case SET_CURRENT_SONG: \n      return {\n        ...state,\n        current_song: action.current_song\n      }\n    case REMOVE_CURRENT_SONG: \n      return {\n        ...state,\n        current_song: {}\n      }\n    case PLAY_SONG:\n      return {\n        ...state,\n        play: true,\n      };\n    case PAUSE_SONG:\n      return {\n        ...state,\n        play: false,\n      };\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport token from './token';\nimport user from './user';\nimport play from './play';\n\nexport default combineReducers({\n  token,\n  user,\n  play\n});","import configure from './configure';\nexport default configure();","import { applyMiddleware, createStore } from 'redux';\nimport modules from './modules';\nimport thunk from 'redux-thunk';\n\n// const middlewares = [thunk];\n\nconst configure = () => {\n  const store = createStore(modules, applyMiddleware(thunk));\n  return store;\n}\n\nexport default configure;","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setAccessToken } from '../store/modules/token';\n\nconst useAuth = () => {\n  const dispatch = useDispatch();\n\n  const redirect_uri = \"https://jiasong214.github.io/spotify-clone/callback\";\n  // const redirect_uri = \"http://localhost:3000/callback\";\n  const client_id = \"7da971157300402095a7852508e36dce\";\n  const client_secret = \"9c0e75f27b084a718f560a6e7ec7ef19\";\n\n  const fetchAccessToken = async (code) => {\n    // token request address\n    const requestApi = `https://accounts.spotify.com/api/token?code=${code}&grant_type=authorization_code&redirect_uri=${redirect_uri}`;\n  \n    //get a token from Api\n    try{\n      const response = await fetch(requestApi, {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Basic ' + btoa(`${client_id}:${client_secret}`),\n          'Content-Type': 'application/x-www-form-urlencoded',\n          \"Accept\": \"application/json\",\n        }\n      }).then(res => res.json());\n  \n      const access_token = await response.access_token;\n      const refresh_token = await response.refresh_token;\n  \n      return { access_token, refresh_token };\n    }catch{\n      console.log('access token err');\n    }\n  }\n\n  // extract parameters value from address\n  const getParamsValue = () => {\n    //destructe url to check if there is access_token\n    let hashParams = {};\n    let e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      // q = window.location.hash.substring(1);\n      q = window.location.href.split('?')[1];\n\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  // take user to authorize page.\n  const checkAuth = useCallback(async () => {\n    // find a code from location parameters\n    const code = getParamsValue().code;\n    // get access token by exchanging with the code\n    const { access_token } = await fetchAccessToken(code);\n\n    if(access_token){\n      // if you get access_token, set it in reducer\n      dispatch(setAccessToken(access_token));\n      window.history.pushState({}, null, \"/\");\n      \n    }else{\n      // if there is no access_token, require authorize.\n      const scopes = [\n        \"playlist-read-private\", \"playlist-read-collaborative\", \"playlist-modify-public\", \"playlist-modify-private\", \"user-read-recently-played\", \"ugc-image-upload\", \"user-follow-modify\", \"user-follow-read\", \"user-library-read\", \"user-library-modify\", \"user-read-private\", \"user-read-email\", \"user-top-read\", \"user-read-playback-state\"\n      ]\n\n      // redirect user\n      window.location.href = `https://accounts.spotify.com/authorize?client_id=${client_id}&response_type=code&scope=${scopes.join(\"%20\")}&redirect_uri=${redirect_uri}`;\n    }\n  }, [dispatch]);\n\n\n  return { checkAuth }\n}\n\nexport default useAuth;","const BASE_URL=\"https://api.spotify.com/v1\";\n  \nconst http = async (url, access_token, options={}) => {\n  return fetch(`${BASE_URL}${url}`, {\n    ...options,\n    headers: {\n      ...options.headers,\n      'Authorization': 'Bearer ' + access_token\n    }\n  })\n  .then(res => res.json())\n}\n\nexport default http;","import { pendingUserFetch, succeedUserFetch, failUserFetch } from './store/modules/user';\nimport http from './http/http.js';\n\nexport const fetchUserData = (access_token) => (dispatch) => {\n  dispatch(pendingUserFetch());\n\n  return http(`/me`, access_token)\n    .then(data => dispatch(succeedUserFetch(data)))\n    .catch(err => dispatch(failUserFetch(err)))\n}\n\n\nexport const fetchAlbums = async (access_token) => {\n  return http(`/me/albums`, access_token)\n}\n\n\nexport const fetchAlbumTracks = (access_token, id) => {\n  return http(`/albums/${id}`, access_token)\n}\n\n\nexport const fetchNewReleases = async (access_token) => {\n  return http(`/browse/new-releases`, access_token);\n}\n\n\nexport const fetchCategories = (access_token) => {\n  return http(`/browse/categories`, access_token);\n}\n\n\nexport const fetchFeatured = (access_token) => {\n  return http(`/browse/featured-playlists`, access_token);\n}\n\n\nexport const fetchRecentlyPlayed = (access_token) => {\n  return http(`/me/player/recently-played`, access_token)\n  .then(data => {\n    //remove duplication\n    const uniqueArray = data.items.filter((item, index, self) => (\n      index === self.findIndex(t => (\n        t.track.id === item.track.id\n      ))\n    ));\n  \n    return uniqueArray;\n  })\n}\n\n\nexport const fetchLikedSongs = (access_token) => {\n  return http(`/me/tracks`, access_token);\n}\n\n\nexport const fetchSearchResults = (access_token, search_term) => {\n  return http(`/search?q=${search_term}&type=track&limit=30&offset=5`, access_token)\n    .then(data => {\n      //remove duplication\n      const uniqueArray = data.tracks.items.filter((item, index, self) => (\n        index === self.findIndex(t => (\n          t.id === item.id\n        ))\n      ));\n\n      return uniqueArray;\n    })\n}\n\nexport const fetchPlaylist = (access_token, playlist_id) => {\n  return http(`/playlists/${playlist_id}`, access_token);\n}\n\n\nexport const fetchPlaylists = (access_token) => {\n  return http(`/me/playlists`, access_token);\n}\n\n\nexport const putLikedSong = (access_token, song_id) => {\n  http(`/me/tracks?ids=${song_id}`, access_token, {\n    method: \"PUT\"\n  });\n}\n\n\nexport const putMyAlbum = (access_token, album_id) => {\n  http(`/me/albums?ids=${album_id}`, access_token, {\n    method: \"PUT\"\n  });\n}\n","import { useEffect, useState } from 'react';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchPlaylists } from '../api';\nimport '../styles/navgation.scss';\n\nconst Navigation = () => {\n  const accessToken = useSelector(state => state.token.access_token, shallowEqual);\n  const [playlists, setPlaylists] = useState();\n\n  useEffect(() => {\n    fetchPlaylists(accessToken)\n      .then(data => setPlaylists(data.items));\n  }, [accessToken]);\n\n  return (\n    <nav>\n      <div>\n        <Link to=\"/\">Browse</Link>\n      </div>\n      <h1>YOUR LIBRARY</h1>\n      <div>\n        <Link to=\"/recently-played\">Recently Played</Link>\n        <Link to=\"/liked-songs\">Liked Songs</Link>\n        <Link to=\"/albums\">Albums</Link>\n        <Link to=\"/artists\">Artists</Link>\n      </div>\n      <h1>PLAYLISTS</h1>\n      <div>\n        {playlists?.map((item, index) => (\n          <Link \n            key={index} \n            to={`/playlist/${item.id}`}\n          >\n            {item.name}\n          </Link>\n        )) || null}\n      </div>\n    </nav>\n  );\n}\n\nexport default Navigation;","import { shallowEqual } from \"@babel/types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { pauseSong, playSong, setCurrentSong } from \"../store/modules/play\";\n\nconst useAudio = () => {\n  const dispatch = useDispatch();\n  const audioState = useSelector(state => state.play.play, shallowEqual);\n  const playlist = useSelector(state => state.play.playlist, shallowEqual);\n  const currentSong = useSelector(state => state.play.current_song, shallowEqual);\n\n  const play = () => {\n    if(!currentSong.name) return;\n\n    audioState ? dispatch(pauseSong()) : dispatch(playSong());\n  }\n\n\n  const findSongIndex = () => {\n    let current_playlist = playlist.tracks || playlist;\n    let currentSongIndex;\n\n    //if there is only one song in the list, return\n    if(current_playlist.length === 1) return;\n\n    //find a current playing song index in the list\n    current_playlist.forEach((item, index) => {\n      if((item.track?.id || item.id) === currentSong.id){\n        currentSongIndex = index;\n      }\n    });\n\n    return { current_playlist, currentSongIndex } ;\n  }\n\n\n  const putNextSong = () => {\n    //if there isn't currentSong, return\n    if(!currentSong.name) return;\n    //if there isn't more than one song in current song list, return\n    if(findSongIndex() === undefined) return;\n\n    const { current_playlist, currentSongIndex } = findSongIndex();\n    const nextSong = current_playlist[currentSongIndex + 1];\n\n    const nextSongData = nextSong.track ?? nextSong;\n\n    if((nextSongData.preview_url) === null) {\n      return dispatch(pauseSong());\n    }\n\n    dispatch(setCurrentSong(nextSongData));\n    audioState ? dispatch(playSong()) : dispatch(pauseSong());\n  }\n\n\n  const putReverseSong = () => {\n    //if there isn't currentSong, return\n    if(!currentSong.name) return;\n    //if there isn't more than one song in current song list, return\n    if(findSongIndex() === undefined) return;\n\n    const { current_playlist, currentSongIndex } = findSongIndex();\n    if(currentSongIndex <= 1) return;\n\n    const reverseSong = current_playlist[currentSongIndex - 1];\n\n    const reverseSongData = reverseSong.track ?? reverseSong;\n\n    if((reverseSongData.preview_url) === null) {\n      return dispatch(pauseSong());\n    }\n\n    dispatch(setCurrentSong(reverseSong.track || reverseSong));\n    audioState ? dispatch(playSong()) : dispatch(pauseSong());\n  }\n\n  return { play, putNextSong, putReverseSong }\n}\n\nexport default useAudio;","export default __webpack_public_path__ + \"static/media/play-btn.16d1fa01.png\";","export default __webpack_public_path__ + \"static/media/pause-btn.879dbdab.png\";","export default __webpack_public_path__ + \"static/media/next-song-btn.269fdd55.png\";","export default __webpack_public_path__ + \"static/media/last-song-btn.a493e03f.png\";","export default __webpack_public_path__ + \"static/media/volume.fa80322f.png\";","import { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { useEffect, useState, useRef } from 'react';\nimport { pauseSong } from '../store/modules/play';\nimport useAudio from '../hooks/useAudio.jsx';\nimport playBtn from '../assets/play-btn.png';\nimport pauseBtn from '../assets/pause-btn.png';\nimport nextSongBtn from '../assets/next-song-btn.png';\nimport lastSongBtn from '../assets/last-song-btn.png';\nimport volumeIcon from '../assets/volume.png';\nimport '../styles/playBar.scss';\n\nconst PlayBar = () => {\n  const dispatch = useDispatch();\n  const audioRef = useRef(null);\n  const audioState = useSelector(state => state.play.play, shallowEqual);\n  const currentSong = useSelector(state => state.play.current_song, shallowEqual);\n  const { play, putNextSong, putReverseSong } = useAudio();\n\n  const [ playingTime, setPlayingTime ] = useState(0);\n\n  //audio control\n  useEffect(() => {\n    if(audioState){\n      audioRef.current.play();\n    }else {\n      audioRef.current.pause();\n    }\n  }, [audioState, currentSong]);\n\n  //song processing bar\n  useEffect(() => {\n    let intervalId;\n\n    //if audio state is play, \n    if(audioState){\n      if(playingTime >= 30) {\n        //and playing time is over than 30sec, stop the song\n        setPlayingTime(0);\n        dispatch(pauseSong());\n      }else{\n        //if not, keep counting the playing time\n        intervalId = setInterval(() => {\n          setPlayingTime(playingTime + 1);\n        }, 1000);\n      }\n    }\n\n    //clean\n    return () => clearInterval(intervalId);\n  }, [audioState, playingTime, dispatch]);\n  \n  \n  //if current song is changed, reset playing time\n  useEffect(() => {\n    setPlayingTime(0);\n  }, [currentSong]);\n\n\n  const changeVolume = (e) => {\n    audioRef.current.volume = e.target.value;\n  }\n\n\n  const clickPlay = () => play();\n  const clickNextSong = () => putNextSong();\n  const clickReverseSong = () => putReverseSong();\n\n  return (\n    <aside className=\"playBar\">\n      <div className='currentPlaySong'>\n        {currentSong?.album &&\n          <img \n            src={currentSong.album.images[0].url} \n            alt='current playing album cover' \n          />\n        }\n        <div>\n          <p className='currentPlaySong__title'>\n            {currentSong.name ?? \"\"}\n          </p>\n          <p className='currentPlaySong__artist'>\n            {currentSong.artists ? currentSong.artists[0].name : ''}\n          </p>\n        </div>\n      </div>\n      <audio \n        ref={audioRef} \n        src={currentSong.preview_url} \n      />\n      <div className='songControl'>\n        <div \n          className='reverseSong' \n          onClick={clickReverseSong}\n        >\n          <img \n            src={lastSongBtn} \n            alt='reverse button' \n          />\n        </div>\n        <div \n          className='playSong' \n          onClick={clickPlay}\n        >\n          <img \n            src={audioState ? pauseBtn : playBtn} \n            alt='play button' \n          />\n        </div>\n        <div \n          className='nextSong' \n          onClick={clickNextSong}>\n          <img \n            src={nextSongBtn} \n            alt='next button' \n          />\n        </div>\n      </div>\n      <div className='songProgress'>\n        <div className='currentProgress'>\n          0:{playingTime < 10 ? '0'+playingTime : playingTime}\n        </div>\n        <div className='progressBar'>\n          <div \n            className='progressBar__progress' \n            style={{width: playingTime / 30 * 100 +'%'}} \n          />\n        </div>\n        <div className='expiredProgress'>\n          0:{ -(playingTime - 30) < 10 ? '0'+- (playingTime - 30) : -(playingTime - 30) }\n        </div>\n      </div>\n      <div className='volumeControl'>\n        <img \n          src={volumeIcon} \n          alt='volume control' \n        />\n        <input \n          type='range' \n          max='1' \n          min='0' \n          step='0.01' \n          onChange={changeVolume} \n        />\n      </div>\n    </aside>\n  );\n}\n\nexport default PlayBar;","import { useEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { fetchUserData } from '../api';\nimport '../styles/header.scss';\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const accessToken = useSelector(state => state.token.access_token, shallowEqual);\n  const user = useSelector(state => state.user.data, shallowEqual);\n\n  useEffect(() => {\n    dispatch(fetchUserData(accessToken));\n  }, [accessToken, dispatch]);\n\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n\n    const searchTerm = e.target[0].value;\n    history.push(`/search/${searchTerm}`);\n\n    //clear input box\n    e.target[0].value = '';\n  }\n\n\n  return !user?.display_name ? \"\" : (\n    <header>\n      <form onSubmit={handleSubmitForm}>\n        <input placeholder='Search' />\n      </form>\n      <div className='user'>\n        <img \n          className='userImg' \n          src={user.images[0].url} \n          alt='user profile' \n        />\n        <div className='userName'>\n          {user.display_name}\n        </div>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;","import '../styles/modal.scss';\n\nconst Modal = ({isActive, onModal}) => {\n  return (\n    <aside className={isActive ? 'modal active' : 'modal'}>\n      <p className='modal__text'>\n        Song might be not be able to play due to API provide.\n      </p>\n      <div className='buttonBox'>\n        <div className='modal__closeBtn' onClick={onModal}>GOT IT</div>\n        <div className='modal__infoBtn'>MORE INFO</div>\n      </div>\n    </aside>\n  );\n}\n\nexport default Modal;","import { Link } from 'react-router-dom';\nimport '../styles/albumList.scss';\n\nconst AlbumList = ({data}) => {\n  return (!data || data.length === 0) ? \"\" : (\n    <ul className='albumList'>\n     {data.map(item => (\n        <li \n          className='albumList__item' \n          key={item.album?.name || item.name} \n        >\n          <Link to={item.icons ? \"/\" : `/album-tracks/${item.album?.id || item.id}`}>\n            <img \n              className='albumList__img' \n              src={item.album?.images[0]?.url || ( item.images ? item.images[0].url : item.icons[0]?.url) || \"\"}\n              alt='album cover' \n            />\n            <h2 className='albumList__title'>\n              {item.album?.name || item.name}\n            </h2>\n            <p className='albumList__artist'>\n              {item.album?.artists[0].name || (item.artists ? item.artists[0].name : \"\")}\n            </p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default AlbumList;\n","import { useEffect, useState } from 'react';\nimport { fetchNewReleases, fetchFeatured, fetchCategories } from '../api';\nimport AlbumList from '../components/albumList.jsx';\nimport '../styles/browse.scss';\n\nconst Browse = ({accessToken}) => {\n  const [albums, setAlbums] = useState();\n\n  useEffect(() => {\n    fetchNewReleases(accessToken)\n      .then(data => setAlbums(data.albums.items))\n      .catch(err => console.log(err));\n  }, [accessToken])\n\n\n  const handleTapClick = (e, index) => {\n    //remove effect\n    const allTapButtons = e.target.parentElement.querySelectorAll('.active');\n    allTapButtons.forEach(item => item.classList.remove('active'));\n\n    //add effect for current tap\n    e.target.classList.add('active');\n\n    switch(index){\n      case 1:\n      default:\n        fetchNewReleases(accessToken)\n          .then(data => setAlbums(data.albums.items));\n        break;\n      case 2:\n        fetchFeatured(accessToken)\n          .then(data => setAlbums(data.playlists.items));\n        break;\n      case 3:\n        fetchCategories(accessToken)\n          .then(data => setAlbums(data.categories.items));\n        break;\n    }\n  }\n\n  return !albums ? null : (\n    <div className='view browse'>\n      <div className='browse__titleBox'>\n        <h1 className='view__title'>Browse</h1>\n        <div className='tapButtons'>\n          <div \n            className='active' \n            onClick={(e) => handleTapClick(e, 1)}\n          >\n            New Releases\n          </div>\n          <div onClick={(e) => handleTapClick(e, 2)}>\n            Featured\n          </div>\n          <div onClick={(e) => handleTapClick(e, 3)}>\n            Genres & Moods\n          </div>\n        </div>\n      </div>\n      <AlbumList data={albums}/>\n    </div>\n  )\n}\n\nexport default Browse;","import { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { playSong, pauseSong, setPlaylist, setCurrentSong } from '../store/modules/play';\nimport '../styles/playButton.scss';\n\nconst PlayButton = ({playlist}) => {\n  const dispatch = useDispatch();\n  const audioState = useSelector(state => state.play.play, shallowEqual);\n\n  const clickPlay = () => {\n    if(audioState){\n      dispatch(pauseSong());\n    }else {\n      let songData = playlist[0].track || playlist[0];\n\n      // if there is no current_music, return\n      if(songData.preview_url === null) return;\n\n      dispatch(setPlaylist(playlist));\n      dispatch(setCurrentSong(songData));\n      dispatch(playSong());\n    }\n  }\n\n  return (\n    <div className='playBtn' onClick={clickPlay}>\n      {audioState ? 'PAUSE' : 'PLAY' }\n    </div>\n  );\n}\n\nexport default PlayButton;","export default __webpack_public_path__ + \"static/media/like-empty.e7ec3ad0.png\";","export default __webpack_public_path__ + \"static/media/like-full.1f20b9a6.png\";","import { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { pauseSong, playSong, setCurrentSong, setPlaylist  } from '../store/modules/play';\nimport { putLikedSong } from '../api';\nimport likeEmptyIcon from '../assets/like-empty.png';\nimport likeFullIcon from '../assets/like-full.png';\nimport playBtn from '../assets/play-btn.png';\nimport pauseBtn from '../assets/pause-btn.png';\nimport '../styles/songList.scss';\n\nconst SongList = ({data}) => {\n  const dispatch = useDispatch();\n  const access_token = useSelector(state => state.token.access_token, shallowEqual);\n\n  const audioState = useSelector(state => state.play.play, shallowEqual);\n  const currentSong = useSelector(state => state.play.current_song, shallowEqual);\n\n  const convertTime = (ms) => {\n    const date = new Date(ms).toISOString().slice(14, -1);\n    return date.slice(0, 5)\n  }\n\n  const clickPlay = (song) => {\n    // if song was playing, pause song\n    if(audioState) return dispatch(pauseSong());\n\n    let songData = song.track || song;\n\n    // if there is no current_music, return\n    if(songData.preview_url === null) return;\n\n    dispatch(setCurrentSong(songData));\n    dispatch(setPlaylist(data));\n    dispatch(playSong());\n  }\n\n  const clickLike = (event, song) => {\n    putLikedSong(access_token, song.id || song.track.id);\n    event.target.src=likeFullIcon;\n  }\n\n  return (!data || data.length === 0) ? \"\" : (\n    <table className='songTable'>\n      <thead>\n        <tr>\n          <th></th>\n          <th></th>\n          <th>Title</th>\n          <th>Artist</th>\n          <th>Album</th>\n          <th>Time</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map(item => (\n          <tr\n            key={item.track?.id || item.id}\n            className={\n              audioState && \n              currentSong?.id === (item.track?.id || item.id) \n              ? 'songTable__item active' : 'songTable__item'\n            }\n            >\n            <td \n              className='songTable__playBtn' \n              onClick={() => clickPlay(item)}\n            >\n              <img \n                src={\n                  audioState && \n                  currentSong?.id === (item.track?.id || item.id) \n                  ? pauseBtn : playBtn\n                } \n                alt='song play button'\n              />\n            </td>\n            <td className='songTable__likeBtn'>\n              <img \n                src={likeEmptyIcon} \n                alt='song like button' \n                onClick={(event) => clickLike(event, item)}\n              />\n            </td>\n            <td className='songTable__songName'>\n              {item.track?.name || item.name}\n            </td>\n            <td>\n              {item.track?.artists[0].name || item.artists[0].name}\n            </td>\n            <td>\n              {item.track?.album?.name || item.album_name}\n            </td>\n            <td>\n              {convertTime(item.track?.duration_ms || item.duration_ms)}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\nexport default SongList;\n","import { useEffect, useState } from 'react';\nimport { fetchLikedSongs } from '../api.js';\nimport PlayButton from '../components/playButton.jsx';\nimport SongList from \"../components/songList.jsx\";\n\nconst LikedSongs = ({accessToken}) => {\n  const [songs, setSongs] = useState();\n\n  useEffect(() => {\n    fetchLikedSongs(accessToken)\n      .then(data => setSongs(data.items));\n  },[accessToken]);\n\n  return (\n    <div className='view'>\n      <div className='view__titleBox'>\n        <h1 className='view__title'>Liked Songs</h1>\n        <PlayButton playlist={songs} />\n      </div>\n      <SongList data={songs} type='likedSongs'/>\n    </div>\n  );\n}\n\nexport default LikedSongs;","import { useEffect, useState } from 'react';\nimport { fetchRecentlyPlayed } from '../api.js';\nimport PlayButton from '../components/playButton.jsx';\nimport SongList from \"../components/songList.jsx\"\n\nconst RecentlyPlayed = ({accessToken}) => {\n  const [songs, setSongs] = useState();\n\n  useEffect(() => {\n    fetchRecentlyPlayed(accessToken)\n      .then(data => setSongs(data))\n  },[accessToken]);\n\n  return (\n    <div className='view'>\n      <div className='view__titleBox'>\n        <h1 className='view__title'>Recently Played</h1>\n        <PlayButton playlist={songs} />\n      </div>\n      <SongList data={songs}/>\n    </div>\n  );\n}\n\nexport default RecentlyPlayed;","import { useEffect, useState } from 'react';\nimport { fetchAlbums } from '../api';\nimport AlbumList from \"../components/albumList.jsx\"\n\nconst Albums = ({accessToken}) => {\n  const [albums, setAlbums] = useState();\n\n  useEffect(() => {\n    fetchAlbums(accessToken)\n      .then(data => data.items && setAlbums(data.items))\n      .catch(err => console.log(err));\n  }, [accessToken]);\n\n  return (\n    <div className='view albums'>\n      <h1 className='view__title'>Albums</h1>\n      <AlbumList data={albums}/>\n    </div>\n  );\n}\n\nexport default Albums;","import '../styles/artists.scss';\nimport artists_icon from '../assets/artists_icon.png';\n\nconst Artists = () => {\n  return (\n    <div className='view artists'>\n      <h1 className='view__title'>\n        Artists\n      </h1>\n      <img \n        className='artists__img' \n        src={artists_icon} \n        alt='icon'\n      />\n      <p>\n        Your favorite artists will appear here. Go to your Browse page to find amazing playlists for every mood and moment.\n      </p>\n      <div className='artists__btn'>\n        GO TO BROWSE\n      </div>\n    </div>\n  );\n}\n\nexport default Artists;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABqCAYAAABZP7TQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBFNDdDNEVGODlFNjExRUJBNDY1RTI1QTY0Qzk4N0Q1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBFNDdDNEYwODlFNjExRUJBNDY1RTI1QTY0Qzk4N0Q1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEU0N0M0RUQ4OUU2MTFFQkE0NjVFMjVBNjRDOTg3RDUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEU0N0M0RUU4OUU2MTFFQkE0NjVFMjVBNjRDOTg3RDUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4O0N7SAAATQklEQVR42uxdC1hO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\"","import { shallowEqual, useSelector } from 'react-redux';\nimport PlayButton from './playButton.jsx';\nimport likeEmptyIcon from '../assets/like-empty.png';\nimport likeFullIcon from '../assets/like-full.png';\nimport { putMyAlbum } from '../api';\nimport '../styles/albumInfo.scss';\n\nconst AlbumInfo = ({data}) => {\n  const accessToken = useSelector(state => state.token.access_token, shallowEqual);\n\n  const clickLikeBtn = (event, data) => {\n    putMyAlbum(accessToken, data.id);\n    event.target.src = likeFullIcon;\n  }\n\n  return (\n    <div className='albumInfo'>\n      <img \n        src={data.images[0] ? data.images[0]?.url : data.icons[0].url || \"\"} \n        alt='album cover' \n      />\n      <div className='albumInfo__innerbox'>\n        <h1>ALBUM</h1>\n        <h2>{data.name}</h2>\n        <p>\n          By &#160;\n          <span>\n            {data.owner?.display_name || data.artists[0]?.name || ''}\n          </span>\n          , {data.total_tracks || data.tracks?.total || ''} song\n        </p>\n        <div className='albumInfo__btnBox'>\n          <PlayButton playlist={data.tracks.items} />\n          <div className='likeBtn'>\n            <img \n              src={likeEmptyIcon} \n              alt='like button'\n              onClick={(event) => clickLikeBtn(event, data)} \n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AlbumInfo;","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { fetchPlaylist } from '../api.js';\nimport AlbumInfo from '../components/albumInfo.jsx';\nimport SongList from '../components/songList.jsx';\n\nconst Playlist = ({accessToken}) => {\n  const { id } = useParams();\n  const [songs, setSongs] = useState();\n  const [playlist, setPlaylist] = useState();\n\n  useEffect(() => {\n    fetchPlaylist(accessToken, id)\n      .then(data => {\n        setPlaylist(data);\n        setSongs(data.tracks.items);\n      })\n  }, [accessToken, id]);\n\n  if(!songs) return null;\n  return (\n    <div className='view playlist'>\n      <AlbumInfo data={playlist} />\n      <SongList data={songs} />\n    </div>\n  )\n}\n\nexport default Playlist;","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { fetchSearchResults } from '../api.js';\nimport SongList from \"../components/songList.jsx\";\n\nconst Search = ({accessToken}) => {\n  const [result, setResult] = useState();\n  const { term } = useParams();\n\n  useEffect(() => {\n    fetchSearchResults(accessToken, term)\n      .then(data => setResult(data))\n  }, [accessToken, term])\n\n\n  return (!result || result.length === 0) ? null : (\n    <div className='view'>\n      <div className='view__titleBox'>\n        <h1 className='view__title'>Search results of {`\"${term}'\"`}</h1>\n      </div>\n      <SongList data={result}/>\n    </div>\n  );\n}\n\nexport default Search;","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { fetchAlbumTracks, fetchPlaylist } from '../api.js';\nimport AlbumInfo from '../components/albumInfo.jsx';\nimport SongList from '../components/songList.jsx';\n\nconst AlbumTracks = ({accessToken}) => {\n  const { id } = useParams();\n  const [album, setAlbum] = useState();\n\n  useEffect(() => {\n    const getData = async () => {\n      const albumData = await fetchAlbumTracks(accessToken, id)\n        .then(data => data);\n\n      if(albumData.id) {\n        setAlbum(albumData);\n      }else {\n        fetchPlaylist(accessToken, id)\n          .then(data => setAlbum(data));\n      }\n    }\n\n    getData()\n  }, [accessToken, id]);\n\n  return (!album || album.length === 0) ? \"\" : (\n    <div className='albumTrack'>\n      <AlbumInfo data={album} />\n      <SongList data={album.tracks.items} />\n    </div>\n  )\n}\n\nexport default AlbumTracks;","import { Switch, Route } from \"react-router\";\nimport { useSelector, shallowEqual } from \"react-redux\";\n\nimport Browse from './browse';\nimport LikedSongs from './likedSongs';\nimport RecentlyPlayed from './recentlyPlayed';\nimport Albums from './albums';\nimport Artists from './artists';\nimport Playlist from './playlist';\nimport Search from './search';\nimport AlbumTracks from './albumTracks';\n\n\nconst Router = () => {\n  const accessToken = useSelector(state => state.token.access_token, shallowEqual);\n  \n  return (\n    <Switch>\n      <Route \n        exact path=\"/\"\n        render={() => <Browse accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/liked-songs\"\n        render={() => <LikedSongs accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/recently-played\"\n        render={() => <RecentlyPlayed accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/albums\"\n        render={() => <Albums accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/album-tracks/:id\"\n        render={() => <AlbumTracks accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/artists\"\n        render={() => <Artists accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/playlist/:id\"\n        render={() => <Playlist accessToken={accessToken}/>} \n      />\n      <Route \n        exact path=\"/search/:term\"\n        render={() => <Search accessToken={accessToken}/>} \n      />\n    </Switch>\n  )\n}\n\nexport default Router;","import { useEffect, useState } from 'react';\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { HashRouter } from 'react-router-dom';\nimport useAuth from './hooks/useAuth.jsx';\nimport Navigation from './components/navgation.jsx';\nimport PlayBar from './components/playBar.jsx';\nimport Header from './components/header.jsx';\nimport Modal from './components/modal.jsx';\nimport Router from './pages/Router.jsx';\n\n\nfunction App() {\n  const accessToken = useSelector(state => state.token.access_token, shallowEqual);\n  const [ modal, setModal ] = useState(false);\n  const { checkAuth } = useAuth();\n\n  // check authorization\n  useEffect(() => {\n    if(accessToken === \"\") checkAuth();\n  }, [accessToken, checkAuth]);\n\n\n  const handleModal = () => {\n    modal ? setModal(false) : setModal(true);\n  };\n\n  // active modal after rendering\n  useEffect(() => {\n    setTimeout(() => handleModal(), 2000)\n  },[]);\n\n  return accessToken && (\n    <HashRouter>\n      <Navigation/>\n      <Header/>\n      <PlayBar/>\n      <main>\n        <Router />\n      </main>\n      <Modal \n        isActive={modal} \n        onModal={handleModal} \n      />\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}